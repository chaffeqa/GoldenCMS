<div class="child-field field">
  <label>
    <% if f.object.new_record? %>
      <%= link_to "Remove", 'javascript:void(0)', :class => 'remove-new-child' %>
    <% else %>
      <%= link_to "Remove", 'javascript:void(0)', :class => 'remove-old-child' %>
      <%= f.hidden_field :_destroy, :class => 'destroy-field', :value => '0' %>
    <% end %>
  </label>
  <% if f.object.new_record? %>
    <%= f.select :category_id, options_for_select( Category.order('title').collect {|category| [category.title, category.id] }, ''), {:prompt => true} %>
  <% else %>
    <%= f.collection_select :category_id, Category.all, :id, :title, {:prompt => true}%>
  <% end %>
</div>
